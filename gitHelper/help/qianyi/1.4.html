<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>选择迁移方式迁移工具</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../../3/layui-v2.6.7/css/layui.css">
  <link rel="stylesheet" href="help.css">
  <script src="../../3/layui-v2.6.7/layui.js" charset="utf-8"></script>
  <script src="help.js" charset="utf-8"></script>
</head>
<body >

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>选择迁移方式迁移工具</legend>
</fieldset> 

<p class="title">
  CC迁移到代码托管平台有两种方式：
  </p>
  <div class="tContent">
  1）通过“代码仓库迁移平台”中的“迁移计划”和“迁移任务”，通过界面化操作一步完成代码仓库迁移工作。支持全量和增量的迁移。<br>
  2）通过迁移服务器执行自动化脚本完成迁移。输入迁移脚本完成一键迁移。支持全量和增量的迁移。<br>
    </div>
  <p class="title">
  Gerrit迁移到代码托管平台：<br>
</p>
<div class="tContent">
  进入到代码托管模块后，输入Gerrit仓库地址和相关用户密码完成界面操作一键完成迁移。支持全量迁移。<br>
  
  本手册中后面章节会有上述迁移的详细介绍。<br>
  
</div>

<br><br><br>
如果想手工自行脚本完成迁移，我们提供了服务器和云桌面两种方式供参考，如下：<br>

	<p class="title">
  迁移服务器迁移环境准备
  </p>
<div class="tContent">
128.194.225.15~19，共计5台服务器可供项目组迁移使用，相关环境已经配置完毕。后续会增加机器供开发中心使用。<br>
具体迁移的账号密码找王锐（wangr1.zb@ccbft.com）授权账号和密码。具体情况可能根据资源以及排期情况择时发放。<br>
登录服务器后，有两种方式进行迁移。<br>
A:自行编写脚本进行迁移。<br>
B:参考工作组提供的脚本执行，详细见第三章与第四章。<br>
</div>

	<p class="title">
  云桌面迁移环境准备
  </p>
<div class="tContent">

1.CC客户端安装<br>
在已安装CC客户端的Windows机器上进行操作。<br>
2.Git客户端安装<br>
完成Git客户端的安装，按照安装步骤一步一步完成安装操作即可。<br>
<img src="imgs/1.4.2.png" onclick="zoomImg(this)"><br>


3.Python2.7环境安装<br>
WIDNOWS安装包下载地址：<br>
https://mirrors.huaweicloud.com/python/2.7/python-2.7.msi<br>
其他版本https://mirrors.huaweicloud.com/python/2.7 下自行查找。<br>
配置环境变量（可选，图例中python安装目录为C:\python27）：<br>
<img src="imgs/1.4.2.1.png" class="w-6" onclick="zoomImg(this)"><br>
将python的路径写入环境变量中，并在windows的PATH环境变量配置命令行所在路径。<br>
<img src="imgs/1.4.2.3.png" class="w-6" onclick="zoomImg(this)"><br>

环境变量配置好之后，windows cmd 运行python 输出如下图表示python安装成功。<br>
<img src="imgs/1.4.2.4.png" class="w-6" onclick="zoomImg(this)"><br>

4.迁移工具包获取<br>
工具包地址：git@gitee.com:stephenzzz/cc-migrate-git-tools.git<br>
安装 git-cc 安装包<br>
解压git-cc安装包<br>
<img src="imgs/1.4.2.5.png" class="w-6" onclick="zoomImg(this)"><br>
指定安装目录：<br>

<img src="imgs/1.4.2.6.png" class="w-6" onclick="zoomImg(this)"><br>

cmd 进入 gitcc 安装目录：<br>

<img src="imgs/1.4.2.7.png" class="w-6" onclick="zoomImg(this)"><br>
<pre class="layui-code" lay-title="命令" lay-skin="notepad">
cd C:\\Users\\Administrator\\Desktop\\test-gitcc\\gitcc 1\\gitccc
# python -m pip
</pre>
<img src="imgs/1.4.2.8.png" class="w-6" onclick="zoomImg(this)"><br>
<pre class="layui-code" lay-title="命令" lay-skin="notepad">
python -m pip install .
如下图 输出 ：Successfully installed git-cc-1.0.1.dev0 
git-cc 安装成功
</pre>
<img src="imgs/1.4.2.9.png" class="w-6" onclick="zoomImg(this)"><br>
gitcc安装的目录图例中安装到python的目录。<br>
配置git-cc环境变量<br>

<img src="imgs/1.4.2.10.png" class="w-4" onclick="zoomImg(this)"><br>
<img src="imgs/1.4.2.11.png" class="w-4" onclick="zoomImg(this)"><br>


至此ClearCase迁移Git环境搭建完成。<br>


</div>


</body>
</html>