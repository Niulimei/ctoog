(this.webpackJsonpcc_history_query=this.webpackJsonpcc_history_query||[]).push([[0],{180:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(24),o=a.n(c),i=a(49),r=a(77),d=a(109),s=a(259),b=a(258),u=a(260),l=a(257),j=a(86),O=a(62),h=a.n(O),p=a(149);a(180);var y="SAVE_HISTORY",f=a(23),m=a(39),x=s.a.Search,_={bordered:!1,size:"default",expandable:{expandedRowRender:function(e){return Object(m.jsx)("p",{className:"pSty",dangerouslySetInnerHTML:{__html:e.description}})}},title:void 0,showHeader:!0,hasData:!0,tableLayout:void 0,top:"10%",bottom:"bottomRight"},S=function(){var e,t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!0),O=Object(d.a)(s,2),S=O[0],g=O[1],w=Object(n.useState)(1),v=Object(d.a)(w,2),I=v[0],E=v[1],k=Object(j.c)((function(e){return e})),D=k.historyDataSource,T=k.total,N=Object(j.b)(),R=Object(n.useMemo)((function(){return[{title:"\u540d\u79f0",key:"name",dataIndex:"name"},{title:"\u6240\u6709\u4eba",key:"owner",dataIndex:"owner"},{title:"\u521b\u5efa\u65f6\u95f4",key:"createTime",dataIndex:"createTime"},{title:"ID",key:"id",dataIndex:"id"},{title:"\u6d3b\u52a8\u72b6\u6001",key:"historyType",dataIndex:"historyType"}]}),[]),C=Object(f.e)().codeId,L=Object(n.useCallback)((function(e){g(!0);var t,a,n={git_name:C,limit:10,offset:10*(I-1)};e&&(n.id=e),(t="/gitee-cc/cc_history",a=n,new Promise((function(e,n){h.a.get(t,{params:a}).then((function(t){e(t.data)})).catch((function(e){n(e.data),p.b.error(e.message)}))}))).then((function(e){o([]),g(!1),N({type:y,payload:e})})).catch((function(){g(!1)}))}),[C,I]);Object(n.useEffect)(L,[L]);var X=Object(n.useCallback)((function(e){L(e)}),[L]),H=Object(n.useCallback)((function(e,t){var a=[];e&&a.push(t.id),o(a)}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(b.a,{className:"site-page-header",title:"\u5df2\u5f52\u6863\u5386\u53f2\u8bb0\u5f55"}),Object(m.jsx)(u.b,{direction:"vertical",children:Object(m.jsx)(x,{placeholder:"\u8bf7\u8f93\u5165ID\u8fdb\u884c\u68c0\u7d22",onSearch:X,style:{width:300,padding:"0 24px"}})}),Object(m.jsx)(l.a,Object(r.a)(Object(r.a)({},_),{},(e={loading:S,expandedRowKeys:c,pagination:{position:[_.top,_.bottom]},columns:R},Object(i.a)(e,"pagination",{total:T,position:"bottom",current:I,showSizeChanger:!1,onChange:E}),Object(i.a)(e,"dataSource",D),Object(i.a)(e,"rowExpandable",(function(e){return e.description?"Not Expandable":""})),Object(i.a)(e,"style",{margin:"20px 0 0 0"}),Object(i.a)(e,"rowKey",(function(e){return e.id})),Object(i.a)(e,"onExpand",H),e)))]})},g=a(116),w=a(146),v={historyDataSource:[],total:0};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case y:var c=n.infoItem,o=n.count;return Object(r.a)(Object(r.a)({},v),{},{historyDataSource:c,total:o});default:return e}},E=Object(w.a)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(m.jsx)(g.a,{children:Object(m.jsx)(j.a,{store:E,children:Object(m.jsx)(f.a,{path:"/:codeId",component:S})})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.8579eb30.chunk.js.map